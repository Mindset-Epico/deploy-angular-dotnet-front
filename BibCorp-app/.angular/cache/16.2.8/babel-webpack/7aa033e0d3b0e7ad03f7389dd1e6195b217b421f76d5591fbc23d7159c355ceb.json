{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/acervos\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/tooltip\";\nimport * as i9 from \"../../../shared/components/titlebar/titlebar.component\";\nfunction PrincipalComponent_option_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const genero_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", genero_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(genero_r3);\n  }\n}\nfunction PrincipalComponent_div_30_div_1_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 35);\n  }\n}\nfunction PrincipalComponent_div_30_div_1_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function PrincipalComponent_div_30_div_1_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const acervo_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.detalheAcervo(acervo_r5.id));\n    });\n    i0.ɵɵtext(1, \"\\u2192 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PrincipalComponent_div_30_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25);\n    i0.ɵɵlistener(\"mouseenter\", function PrincipalComponent_div_30_div_1_Template_div_mouseenter_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const i_r6 = restoredCtx.index;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.showDetailsButton = i_r6);\n    })(\"mouseleave\", function PrincipalComponent_div_30_div_1_Template_div_mouseleave_1_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.showDetailsButton = null);\n    });\n    i0.ɵɵelementStart(2, \"div\", 26);\n    i0.ɵɵelement(3, \"img\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 28)(5, \"h5\", 29);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h6\", 30);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 31);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 31);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 32);\n    i0.ɵɵtemplate(14, PrincipalComponent_div_30_div_1_div_14_Template, 1, 0, \"div\", 33);\n    i0.ɵɵtemplate(15, PrincipalComponent_div_30_div_1_button_15_Template, 2, 0, \"button\", 34);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const acervo_r5 = ctx.$implicit;\n    const i_r6 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", acervo_r5.capaUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(acervo_r5.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(acervo_r5.autor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(acervo_r5.editora);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(acervo_r5.genero);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.showDetailsButton === i_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.showDetailsButton === i_r6);\n  }\n}\nfunction PrincipalComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtemplate(1, PrincipalComponent_div_30_div_1_Template, 16, 7, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.acervosRecentes);\n  }\n}\nfunction PrincipalComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"h4\");\n    i0.ɵɵtext(2, \"Nenhum acervo adicionado recentemente encontrado!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let PrincipalComponent = /*#__PURE__*/(() => {\n  var _class;\n  class PrincipalComponent {\n    filtroAcervo() {\n      this.getAcervosRecentes();\n    }\n    constructor(acervoService, toastrService, spinnerService, router) {\n      this.acervoService = acervoService;\n      this.toastrService = toastrService;\n      this.spinnerService = spinnerService;\n      this.router = router;\n      this.acervos = [];\n      this.acervosRecentes = [];\n      this.acervosLidos = [];\n      this.acervosRecentesCategoria = [];\n      this.paginacao = [];\n      this.generos = [];\n      this.opcaoPesquisa = 'Todos';\n      this.opcaoGeneroRecentes = 'Todos';\n      this.argumento = '';\n      this.showDetailsButton = null;\n    }\n    ngOnInit() {\n      this.getAcervosRecentes();\n      this.getAcervos();\n    }\n    getAcervosRecentes() {\n      this.spinnerService.show();\n      this.acervoService.getAcervosRecentes(1, 8, this.argumento, this.opcaoPesquisa, this.opcaoGeneroRecentes).subscribe(retorno => {\n        this.acervosRecentes = retorno.resultado;\n      }, error => {\n        console.log(\"aqui 2\");\n        this.toastrService.error(\"Erro ao carregar Acervos\", 'Erro!');\n        console.error(error);\n      }).add(() => this.spinnerService.hide());\n    }\n    getAcervos() {\n      this.spinnerService.show();\n      this.acervoService.getAcervos().subscribe(retorno => {\n        this.acervos = retorno;\n        for (var acervo of this.acervos) this.generos.push(acervo.genero);\n        this.generos = this.generos.filter((genero, i) => this.generos.indexOf(genero) === i);\n        this.acervosLidos = retorno;\n      }, error => {\n        console.log(\"aqui 2\");\n        this.toastrService.error(\"Erro ao carregar Acervos\", 'Erro!');\n        console.error(error);\n      }).add(() => this.spinnerService.hide());\n    }\n    detalheAcervo(acervoId) {\n      this.router.navigate([`acervos/detalhe/${acervoId}`]);\n    }\n    favoritarAcervo(acervoId) {\n      // Lógica de favoritar aqui\n      console.log('Livro favoritado:', acervoId);\n    }\n  }\n  _class = PrincipalComponent;\n  _class.ɵfac = function PrincipalComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.AcervoService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.Router));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-principal\"]],\n    decls: 35,\n    vars: 11,\n    consts: [[3, \"title\"], [1, \"d-flex\", \"flex-row\", \"bibcorp-bg-secondary\", \"m-0\", \"p-3\"], [1, \"col\"], [1, \"rounded-5\"], [1, \"flex-fill\", \"m-0\", \"p-0\"], [1, \"input-group\", \"m-0\"], [1, \"input-group-prepend\"], [\"id\", \"pesquisarPor\", 1, \"bibcorp-select\", \"text-black\", \"border-0\", \"p-3\", \"ms-1\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [3, \"ngValue\"], [\"type\", \"text\", \"placeholder\", \"Busque aqui por t\\u00EDtulo ou autor\", 1, \"form-control\", \"border-0\", \"m-0\", \"pe-2\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"bibcorp-search\", \"bibcorp-bg-primary\", \"text-white\", \"border-0\", \"pt-1\", 3, \"click\"], [1, \"matIcon\"], [1, \"contianer\", \"bibcorp-box\", \"m-0\", \"ps-3\"], [1, \"p-3\"], [1, \"d-flex\", \"flex-row\"], [1, \"h5\"], [\"id\", \"Genero\", 1, \"border-0\", \"text-black\", \"p-2\", \"ms-1\", 2, \"margin-bottom\", \"10px\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"row\", 4, \"ngIf\"], [\"colspan\", \"8\", \"class\", \"text-center\", 4, \"ngIf\"], [\"bdColor\", \"rgba(51,51,51,0.8)\", \"size\", \"medium\", \"color\", \"#fff\", \"type\", \"square-jelly-box\"], [2, \"font-size\", \"20px\", \"color\", \"white\"], [1, \"row\"], [\"class\", \"col-xs-12 col-sm-3 col-md-3 col-lg-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-xs-12\", \"col-sm-3\", \"col-md-3\", \"col-lg-3\"], [1, \"card\", \"bg-white\", \"mb-3\", 2, \"max-width\", \"20rem\", \"height\", \"35rem\", \"border-radius\", \"15px\", \"overflow\", \"hidden\", \"position\", \"relative\", 3, \"mouseenter\", \"mouseleave\"], [1, \"text-center\", 2, \"margin-top\", \"20px\"], [\"alt\", \"Capa do livro\", 2, \"width\", \"200px\", \"height\", \"300px\", \"border-radius\", \"15px\", \"object-fit\", \"cover\", \"object-position\", \"top\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\", \"text-dark\", 2, \"font-size\", \"1.2rem\"], [1, \"card-subtitle\", \"mb-2\", \"text-dark\", 2, \"font-size\", \"1rem\"], [1, \"card-text\", \"text-dark\", 2, \"font-size\", \"0.9rem\"], [2, \"position\", \"absolute\", \"top\", \"5px\", \"right\", \"10px\", \"display\", \"flex\", \"flex-direction\", \"row\", \"align-items\", \"center\"], [\"class\", \"circle-icon-wrapper\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-blue button\", \"matTooltip\", \"Ver detalhes\", \"style\", \"border-radius: 100%; font-size: 20px; margin-left: 3px; box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.2);\", 3, \"click\", 4, \"ngIf\"], [1, \"circle-icon-wrapper\"], [\"type\", \"button\", \"matTooltip\", \"Ver detalhes\", 1, \"btn\", \"btn-blue\", \"button\", 2, \"border-radius\", \"100%\", \"font-size\", \"20px\", \"margin-left\", \"3px\", \"box-shadow\", \"0px 0px 10px 0px rgba(0, 0, 0, 0.2)\", 3, \"click\"], [\"colspan\", \"8\", 1, \"text-center\"]],\n    template: function PrincipalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-titlebar\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"select\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function PrincipalComponent_Template_select_ngModelChange_7_listener($event) {\n          return ctx.opcaoPesquisa = $event;\n        })(\"change\", function PrincipalComponent_Template_select_change_7_listener() {\n          return ctx.filtroAcervo();\n        });\n        i0.ɵɵelementStart(8, \"option\", 8);\n        i0.ɵɵtext(9, \"Todos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"option\", 8);\n        i0.ɵɵtext(11, \"Autor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"option\", 8);\n        i0.ɵɵtext(13, \"T\\u00EDtulo\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function PrincipalComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.argumento = $event;\n        })(\"change\", function PrincipalComponent_Template_input_change_14_listener() {\n          return ctx.filtroAcervo();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function PrincipalComponent_Template_button_click_15_listener() {\n          return ctx.filtroAcervo();\n        });\n        i0.ɵɵelementStart(16, \"mat-icon\", 11);\n        i0.ɵɵtext(17, \"search\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(18, \"div\", 12)(19, \"div\", 13)(20, \"div\", 14)(21, \"div\", 2)(22, \"p\", 15);\n        i0.ɵɵtext(23, \"Recentemente adicionado:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\");\n        i0.ɵɵtext(25, \" G\\u00EAneros: \");\n        i0.ɵɵelementStart(26, \"select\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function PrincipalComponent_Template_select_ngModelChange_26_listener($event) {\n          return ctx.opcaoGeneroRecentes = $event;\n        })(\"change\", function PrincipalComponent_Template_select_change_26_listener() {\n          return ctx.filtroAcervo();\n        });\n        i0.ɵɵelementStart(27, \"option\", 8);\n        i0.ɵɵtext(28, \"Todos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(29, PrincipalComponent_option_29_Template, 2, 2, \"option\", 17);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(30, PrincipalComponent_div_30_Template, 2, 1, \"div\", 18);\n        i0.ɵɵtemplate(31, PrincipalComponent_div_31_Template, 3, 0, \"div\", 19);\n        i0.ɵɵelementStart(32, \"ngx-spinner\", 20)(33, \"p\", 21);\n        i0.ɵɵtext(34, \"Carregando...\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"title\", \"P\\u00E1gina Inicial\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.opcaoPesquisa);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngValue\", \"Todos\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngValue\", \"Autor\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngValue\", \"Titulo\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.argumento);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.opcaoGeneroRecentes);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngValue\", \"Todos\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.generos);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.acervosRecentes && ctx.acervosRecentes.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.acervosRecentes.length);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.DefaultValueAccessor, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgModel, i7.MatIcon, i8.MatTooltip, i3.NgxSpinnerComponent, i9.TitlebarComponent],\n    styles: [\".card[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 0 10px #0003}\"]\n  });\n  return PrincipalComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}