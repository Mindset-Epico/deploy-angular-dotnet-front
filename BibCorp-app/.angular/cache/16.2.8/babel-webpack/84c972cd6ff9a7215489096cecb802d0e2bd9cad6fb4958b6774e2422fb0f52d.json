{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { formatDate } from \"@angular/common\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/emprestimos\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/material/dialog\";\nexport let ModalSucessoComponent = /*#__PURE__*/(() => {\n  var _class;\n  class ModalSucessoComponent {\n    constructor(dataInput, router, emprestimoService, spinnerService, toastrService, dialog) {\n      this.dataInput = dataInput;\n      this.router = router;\n      this.emprestimoService = emprestimoService;\n      this.spinnerService = spinnerService;\n      this.toastrService = toastrService;\n      this.dialog = dialog;\n      this.title = 'angular-material';\n      this.emprestimoAtualizado = {};\n      this.novaDataPrevistaDevolucao = \"\";\n      this.emprestimoIdParam = \"\";\n    }\n    ngOnInit() {\n      this.emprestimoIdParam = this.dataInput.emprestimoId;\n      this.getEmprestimoById(this.emprestimoIdParam);\n    }\n    voltarParaMinhasSolicitacoes() {\n      this.router.navigate(['/solicitacoes']);\n      const dialogRefSucesso = this.dialog.getDialogById('Sucesso');\n      if (dialogRefSucesso) {\n        dialogRefSucesso.close();\n      }\n    }\n    getEmprestimoById(id) {\n      this.spinnerService.show();\n      this.emprestimoService.getEmprestimoById(id).subscribe(retorno => {\n        this.emprestimoAtualizado = retorno;\n        this.novaDataPrevistaDevolucao = this.emprestimoAtualizado.dataPrevistaDevolucao;\n      }, error => {\n        this.toastrService.error(\"Erro ao carregar emprestimo\", 'Erro!');\n        console.error(error);\n      }).add(() => this.spinnerService.hide());\n    }\n    formatarData(data) {\n      var dataFormatada = formatDate(data, \"dd/MM/YYYY\", \"en-US\");\n      return dataFormatada;\n    }\n  }\n  _class = ModalSucessoComponent;\n  _class.ɵfac = function ModalSucessoComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.EmprestimoService), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.MatDialog));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-modal-sucesso\"]],\n    decls: 10,\n    vars: 1,\n    consts: [[\"id\", \"Sucesso\", 1, \"custom-modal\"], [1, \"modal-title\"], [1, \"modal-subtitle\"], [\"src\", \"../../../../../assets/Images/check.png\", \"alt\", \"check\", 2, \"height\", \"40px\", \"width\", \"40px\", \"margin-top\", \"10px\"], [1, \"btn\", \"btn-orange\", 3, \"click\"]],\n    template: function ModalSucessoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"A sua renova\\u00E7\\u00E3o foi realizada com sucesso!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\", 2);\n        i0.ɵɵtext(4, \"Nova data de devolu\\u00E7\\u00E3o:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"h5\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"img\", 3);\n        i0.ɵɵelementStart(8, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function ModalSucessoComponent_Template_button_click_8_listener() {\n          return ctx.voltarParaMinhasSolicitacoes();\n        });\n        i0.ɵɵtext(9, \"Voltar\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.formatarData(ctx.novaDataPrevistaDevolucao));\n      }\n    },\n    styles: [\".custom-modal[_ngcontent-%COMP%]{text-align:center;background-color:#fff;padding:20px;display:flex;flex-direction:column;align-items:center;color:#000;width:450px;height:350px;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:24px;color:#000;margin:0;font-weight:700}.modal-subtitle[_ngcontent-%COMP%]{font-size:18px;color:#000;margin:10px 0 0}.btn-orange[_ngcontent-%COMP%]{background-color:#ff9d4e;border:none;transition:background-color .3s;color:#fff;width:30%;margin-top:20px}.btn-orange[_ngcontent-%COMP%]:hover{background-color:#ffb07d;color:#fff}\"]\n  });\n  return ModalSucessoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}