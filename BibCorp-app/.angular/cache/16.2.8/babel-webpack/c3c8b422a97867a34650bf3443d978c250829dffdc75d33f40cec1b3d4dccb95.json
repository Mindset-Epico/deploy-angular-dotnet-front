{"ast":null,"code":"import { catchError, take, throwError } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/usuarios\";\nexport let JwtInterceptor = /*#__PURE__*/(() => {\n  var _class;\n  class JwtInterceptor {\n    constructor(loginService) {\n      this.loginService = loginService;\n    }\n    intercept(request, next) {\n      let userCurrent;\n      this.loginService.currentUser$.pipe(take(1)).subscribe(user => {\n        userCurrent = user;\n        if (userCurrent) {\n          request = request.clone({\n            setHeaders: {\n              Authorization: `Bearer ${userCurrent.token}`\n            }\n          });\n        }\n      });\n      return next.handle(request).pipe(catchError(error => {\n        if (error) {\n          //            localStorage.removeItem(Constants.LOCAL_STORAGE_NAME);\n        }\n        return throwError(error);\n      }));\n    }\n  }\n  _class = JwtInterceptor;\n  _class.ɵfac = function JwtInterceptor_Factory(t) {\n    return new (t || _class)(i0.ɵɵinject(i1.LoginService));\n  };\n  _class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: _class,\n    factory: _class.ɵfac\n  });\n  return JwtInterceptor;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}